<nz-modal
  [(nzVisible)]="isVisibleModalAddReference"
  (nzOnCancel)="handleCancel()"
  (nzOnOk)="handleOk()"
  nzCentered
  nzTitle="Agregar nueva referencia"
  nzWidth="400px"
>
  <ng-container *nzModalContent>
    <form nz-form [formGroup]="validateForm" (ngSubmit)="handleOk()">
      <nz-form-item>
        <nz-form-label [nzSpan]="7" nzRequired nzFor="title">
          Título
        </nz-form-label>
        <nz-form-control
          nzErrorTip="Ingresa el título"
          style="margin-bottom: 10px"
        >
          <input
            type="text"
            nz-input
            formControlName="title"
            placeholder="Ingresa el título"
            style="width: 230px; margin-left: 5px"
          />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="7" nzRequired nzFor="dateOfPublication"
          >Año</nz-form-label
        >
        <nz-form-control
          nzErrorTip="Ingresa el año de publicación"
          style="margin-bottom: 10px"
        >
          <nz-date-picker
            nzMode="year"
            formControlName="dateOfPublication"
            nzPlaceHolder="Ingresa el año de publicación"
            style="width: 230px; margin-left: 5px; cursor: pointer"
            [nzInputReadOnly]="true"
          ></nz-date-picker>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="7" nzFor="referenceAuthors"
          >Autor</nz-form-label
        >
        <nz-form-control style="margin-bottom: 10px">
          <nz-select
            id="referenceAuthor"
            formControlName="referenceAuthors"
            nzPlaceHolder="Selecciona un Autor"
            (ngModelChange)="selectAuthor($event)"
            style="width: 230px; margin-left: 5px"
          >
            @for (author of listOfAuthors; track $index) {
            <nz-option
              nzValue="{{author.id}}"
              nzLabel="{{author.name}}"
            ></nz-option>
            }
          </nz-select>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="7" nzFor="referenceTags"
          >Etiqueta</nz-form-label
        >
        <nz-form-control style="margin-bottom: 10px">
          <nz-select
            id="referenceTag"
            formControlName="referenceTags"
            nzPlaceHolder="Selecciona una Etiqueta"
            (ngModelChange)="selectTag($event)"
            style="width: 230px; margin-left: 5px"
          >
            @for (tag of listOfTags; track $index) {
            <nz-option nzValue="{{tag.id}}" nzLabel="{{tag.name}}"></nz-option>
            }
          </nz-select>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="7" nzRequired nzFor="publicationPlace"
          >Enlace</nz-form-label
        >
        <nz-form-control
          nzErrorTip="Ingresa el enlace"
          style="margin-bottom: 10px"
        >
          <input
            type="text"
            nz-input
            formControlName="publicationPlace"
            placeholder="Ingresa el enlace"
            style="width: 230px; margin-left: 5px"
          /> 
        </nz-form-control>
      </nz-form-item>
    </form>
  </ng-container>
</nz-modal>
